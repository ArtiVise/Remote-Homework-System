<!DOCTYPE html>

html
    head
        meta(name="viewport", content="width=device-width, initial-scale=1")
        title Задачи
        link(rel='stylesheet', href='/stylesheets/student.css')
        link(rel="stylesheet", href="/css/bootstrap.min.css")
    body
        div(class="navbar navbar-inverse navbar-fixed-top" role="navigation")
            div(class="container")
                div(class="navbar-header")
                    button(type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse")
                        span(class="sr-only") Toggle navigation
                        span(class="icon-bar")
                        span(class="icon-bar")
                        span(class="icon-bar")
                    a(class="navbar-brand") Система удаленной сдачи работ
                div(class="collapse navbar-collapse")
                    ul(class="nav navbar-nav")
                        li(class="active")
                            a(href="/student") Задачи
                        li
                            a() Просмотр задачи
                    div(class="navbar-collapse collapse")
                        form(class="navbar-form navbar-right" role="form")
                            Name
                                |Добро пожаловать, студент #{StudentName} &nbsp
                            input(type="hidden" name="act" value="logout")
                            button(type="submit" class="btn btn-success") Выйти
        div(class="container")
            .panel.panel-info
                .panel-heading Список задач
                .panel-body
                    form()
                        |Предмет:
                        |&nbsp;
                        select(name="subjects" onChange="combo(this, 'theinput')")
                            each data in subjects
                                if (subjectsName === data.Name)
                                    option(selected) #{data.Name}
                                else
                                    option #{data.Name}
                        |&nbsp;
                        button(type="submit" class="btn btn-primary") Открыть список заданий
                    br
                    table(class="table table-bordered")
                        tr
                            th Номер
                            th Название
                            //th Статус проверки
                        each data in body
                            tr(class="colors" id=data.id onclick='RowClick(this)')
                                td #{data.Number}
                                td #{data.Name}
                                //td #{data.Status}
                    div(class="container")
                        form()
                            input(type="hidden" name="act" value="getTask")
                            input(type="hidden" name="ActTask" value="None")
                            button(type="submit" class="btn btn-primary" onclick='RowClick1(this)') Посмотреть задание
    script(type="text/javascript", src="/javascripts/student.js")
    script(src="/js/jquery.min.js")
    script(src="/js/bootstrap.min.js")
    script.
        var a = 0;
        function RowClick(row) {
            //console.log(row.id);
            a = row.id;
            //row.style.background = "blue";
            //alert(row);
        }
        function RowClick1(row) {
            var elems = document.getElementsByName('ActTask')[0];
            elems.value = a;
            console.log(elems.value);
        }

        $(document).ready(function () {
            $(".colors:last").css("background-color", "#b0eeaa");
            var tr_clr = $(".colors:last").css("background-color");
            $(".colors:last").css("background-color", "white");
            $(".colors").click(function () {
                $(".colors").css("background-color", "white");
                $(this).css("background-color", tr_clr);
                //if ($(this).css("background-color") != tr_clr)
                //    $(this).css("background-color", tr_clr)
                //else $(this).css("background-color", "white")
            });

        });